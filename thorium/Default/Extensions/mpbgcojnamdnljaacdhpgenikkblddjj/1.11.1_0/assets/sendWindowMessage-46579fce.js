import{o as u}from"./onMessage-fb148085.js";async function w(t){const e=await u({addListener:n=>window.addEventListener("message",n),removeListener:n=>window.removeEventListener("message",n),...t});return e==null?void 0:e.data}function m(){return Math.random().toString(16).slice(2)}async function M(t){var a;const{receiverWindow:e,timeout:n,targetOrigin:d,event:c,args:g}=t,o={reqId:m(),event:c,args:g};(a=e||window)==null||a.postMessage(o,d??"*");const s=await w({filter:r=>{var i;return((i=r==null?void 0:r.data)==null?void 0:i.resId)===o.reqId},timeout:n??3e4,once:!0});return s==null?void 0:s.result}export{m as g,w as o,M as s};
