var M=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B(e){if(e.__esModule)return e;var i=e.default;if(typeof i=="function"){var s=function g(){return this instanceof g?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(g){var p=Object.getOwnPropertyDescriptor(e,g);Object.defineProperty(s,g,p.get?p:{enumerable:!0,get:function(){return e[g]}})}),s}var I={exports:{}};(function(e){(function(i,s){e.exports?e.exports=s():i.log=s()})(M,function(){var i=function(){},s="undefined",g=typeof window!==s&&typeof window.navigator!==s&&/Trident\/|MSIE /.test(window.navigator.userAgent),p=["trace","debug","info","warn","error"],d={},r=null;function N(n,l){var t=n[l];if(typeof t.bind=="function")return t.bind(n);try{return Function.prototype.bind.call(t,n)}catch{return function(){return Function.prototype.apply.apply(t,[n,arguments])}}}function P(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function k(n){return n==="debug"&&(n="log"),typeof console===s?!1:n==="trace"&&g?P:console[n]!==void 0?N(console,n):console.log!==void 0?N(console,"log"):i}function y(){for(var n=this.getLevel(),l=0;l<p.length;l++){var t=p[l];this[t]=l<n?i:this.methodFactory(t,n,this.name)}if(this.log=this.debug,typeof console===s&&n<this.levels.SILENT)return"No console available for logging"}function E(n){return function(){typeof console!==s&&(y.call(this),this[n].apply(this,arguments))}}function C(n,l,t){return k(n)||E.apply(this,arguments)}function T(n,l){var t=this,v,m,w,f="loglevel";typeof n=="string"?f+=":"+n:typeof n=="symbol"&&(f=void 0);function A(o){var c=(p[o]||"silent").toUpperCase();if(!(typeof window===s||!f)){try{window.localStorage[f]=c;return}catch{}try{window.document.cookie=encodeURIComponent(f)+"="+c+";"}catch{}}}function R(){var o;if(!(typeof window===s||!f)){try{o=window.localStorage[f]}catch{}if(typeof o===s)try{var c=window.document.cookie,b=encodeURIComponent(f),F=c.indexOf(b+"=");F!==-1&&(o=/^([^;]+)/.exec(c.slice(F+b.length+1))[1])}catch{}return t.levels[o]===void 0&&(o=void 0),o}}function O(){if(!(typeof window===s||!f)){try{window.localStorage.removeItem(f)}catch{}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function h(o){var c=o;if(typeof c=="string"&&t.levels[c.toUpperCase()]!==void 0&&(c=t.levels[c.toUpperCase()]),typeof c=="number"&&c>=0&&c<=t.levels.SILENT)return c;throw new TypeError("log.setLevel() called with invalid level: "+o)}t.name=n,t.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},t.methodFactory=l||C,t.getLevel=function(){return w??m??v},t.setLevel=function(o,c){return w=h(o),c!==!1&&A(w),y.call(t)},t.setDefaultLevel=function(o){m=h(o),R()||t.setLevel(o,!1)},t.resetLevel=function(){w=null,O(),y.call(t)},t.enableAll=function(o){t.setLevel(t.levels.TRACE,o)},t.disableAll=function(o){t.setLevel(t.levels.SILENT,o)},t.rebuild=function(){if(r!==t&&(v=h(r.getLevel())),y.call(t),r===t)for(var o in d)d[o].rebuild()},v=h(r?r.getLevel():"WARN");var W=R();W!=null&&(w=h(W)),y.call(t)}r=new T,r.getLogger=function(l){if(typeof l!="symbol"&&typeof l!="string"||l==="")throw new TypeError("You must supply a name when creating a logger.");var t=d[l];return t||(t=d[l]=new T(l,r.methodFactory)),t};var _=typeof window!==s?window.log:void 0;return r.noConflict=function(){return typeof window!==s&&window.log===r&&(window.log=_),r},r.getLoggers=function(){return d},r.default=r,r})})(I);var x=I.exports;const D=j(x);D.setLevel("info");const L=["https://toonily.com","https://nhentai.net","https://manga18.club"],S=["https://www.cmoa.jp"],u=async e=>{const i=await chrome.storage.sync.get(e);return i?i[e]:null},a=async(e,i)=>{await chrome.storage.sync.set({[e]:i})},G=async()=>await u("authToken"),z=async()=>await u("panelShow"),K=async()=>await u("toLang"),Q=async()=>await u("noNeedFetchWebsites")??L,X=async()=>await u("noPosRelWebsites")??S,Z=async e=>{await a("targetLangs",e)},q=async e=>{await a("authToken",e)},J=async e=>{await a("userInfo",e)},Y=async e=>{await a("panelShow",e)},H=async e=>{await a("toLang",e)},V=async e=>{await a("urls",e)},$=async e=>await a("noNeedFetchWebsites",e),ee=async e=>await a("noPosRelWebsites",e),te=async()=>{await a("authToken",""),await a("userInfo",null),await a("panelShow",!1),await a("toLang","zh_CN"),await a("urls",{home:"https://mangaot.mistsink.com",pay:"https://mangaot.mistsink.com",feedback:"https://discord.com/invite/QyaNGXZ9Sr",share:"https://mangaot.mistsink.com"}),await a("noNeedFetchWebsites",L),await a("noPosRelWebsites",S)},ne=async()=>{const e=await u("authToken")??"",i=await u("userInfo")??null,s=await u("panelShow")??!1,g=await u("toLang")??"zh_CN",p=await u("urls")??{home:"https://mangaot.mistsink.com",pay:"https://mangaot.mistsink.com",feedback:"https://discord.com/invite/QyaNGXZ9Sr",share:"https://mangaot.mistsink.com"},d=await u("noNeedFetchWebsites")??L;await a("noNeedFetchWebsites",d);const r=await u("noPosRelWebsites")??S;await a("noPosRelWebsites",r),await a("authToken",e),await a("userInfo",i),await a("panelShow",s),await a("toLang",g),await a("urls",p)};export{G as a,j as b,M as c,K as d,Q as e,X as f,B as g,z as h,te as i,Y as j,H as k,D as l,ne as m,J as n,Z as o,V as p,$ as q,ee as r,q as s};
